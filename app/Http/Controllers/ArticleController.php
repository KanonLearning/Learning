<?php

// ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã¯ãã®åã®é€šã‚Šãƒ¡ã‚½ãƒƒãƒ‰ãªã©ã‚’ä½¿ã†æ©Ÿèƒ½ã€ã©ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã©ã®ã‚ˆã†ã«æ‰±ã†ã®ã‹ã‚’æ˜Žè¨˜ã™ã‚‹å ´æ‰€



// ä»²ä»‹å½¹ã€ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ãƒ»èª­ã¿ã¨ã‚Šãƒ»viewã§ä½¿ãˆã‚‹ã‚ˆã†ã«æ•´å½¢ã—ã¦é€ã‚‹ãªã©ã„ã‚ã‚“ãªã“ã¨ãŒã§ãã‚‹
//modelã«å¯¾ã—ã¦è¡Œã†æ“ä½œã®ä¾‹ã€
// all()ï¼šå…¨ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
// find()ï¼šæŒ‡å®šã—ãŸidã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
// get()ï¼šçµæžœã®å–å¾—
// where('ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å','æ¡ä»¶')ï¼šæŒ‡å®šã—ãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã®ã‚«ãƒ©ãƒ ã‹ã‚‰æ¡ä»¶ã«ã‚ã†ã‚‚ã®ã‚’å–å¾—
// where('ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å','ä¸ç­‰å·','æ¡ä»¶')ï¼šæŒ‡å®šã—ãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã®ã‚«ãƒ©ãƒ ã‹ã‚‰æ¡ä»¶ã«ã‚ã†ã‚‚ã®ã‚’å–å¾—
// toArray()ï¼šé…åˆ—ã«å¤‰æ›ã™ã‚‹
// count()ï¼šæ•°ã‚’æ•°ãˆã‚‹ã€ãã®çµæžœã‚’å–å¾—
// max()ï¼šæœ€å¤§å€¤ã‚’å–å¾—
// sum()ï¼šåˆè¨ˆå€¤ã‚’å–å¾—
//
//
// â€»ã“ã‚Œã‚‰ã¯ã‚‚ã¨ã‚‚ã¨allã®æŒã¡ç‰©ï¼ˆãƒ¡ã‚½ãƒƒãƒ‰ï¼‰ã§ã“ã®ä¸­ã§æŒ‡å®šã—ã¦æ“ä½œã‚’è¡Œã†

namespace App\Http\Controllers;

use App\Models\Article;
use Illuminate\Http\Request;

class ArticleController extends Controller
{
    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function index()
    {
        $articles = Article::all();
        // Articleï¼ˆãƒ¢ãƒ‡ãƒ«ã‚¯ãƒ©ã‚¹(app\Models\Article.php)ï¼‰ã®all()(ä»Šå›žã¯ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰)ã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ã€‚
        // Articleã‚¯ãƒ©ã‚¹ã«ç´ã¥ã„ã¦ã„ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã—ã¦ã€ãƒ¬ã‚³ãƒ¼ãƒ‰ã®å…¨å–å¾—ã‚’è¡Œã†SQLã‚’å®Ÿè¡Œ
        // ä»Šå›žã¯ãã‚Œã®æˆ»ã‚Šå€¤ã‚’$ariclesã«ä»£å…¥ã—ã¦ã„ã‚‹
        //
        // ã€è£œè¶³èª¬æ˜Žã€‘
        //  ãƒ»::all()ã¨ã„ã†è¡¨è¨˜ã¯ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã¨ãã®æ›¸ãæ–¹ã€‚ã‚¯ãƒ©ã‚¹::ãƒ¡ã‚½ãƒƒãƒ‰åã§æ›¸ã
        //  ãƒ»allãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã£ã¦
        //
        //
        //
        // ã€ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã®æ¦‚è¦ã€‘
        //  ãƒ»å®šç¾©æ™‚ã«staticã‚’ä»˜ã‘ã‚‹ã“ã¨
        //  ãƒ»ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒå¿…é ˆ
        //
        //
        //
        //
        // ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®æ¦‚è¦ã€‘
        //ã€€ãƒ»staticãŒå®šç¾©æ™‚ã«ä¸è¦
        //ã€€ãƒ»ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã¯ã¤ã‘ãªãã¦ã„ã„ï¼ˆã¤ã‘ãªã„ãªã‚‰publicæ‰±ã„ï¼‰
        //ã€€ãƒ»ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å¯¾ã—ã¦å‘¼ã³å‡ºã—ã¦ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ¯Žã«å›ºæœ‰ã®çµæžœã‚’è¿”ã™
        //ã€€ãƒ»ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹->ãƒ¡ã‚½ãƒƒãƒ‰å()ã§å‘¼ã³å‡ºã™ã€‚
        //
        //
        // ã€ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®é•ã„ã€‘
        //ã€€ãƒ»ãƒ¡ã‚½ãƒƒãƒ‰ã¥ãã‚Šã®éš›ã®staticã®æœ‰ç„¡
        //ã€€ãƒ»ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒã¤ã‘ã‚‰ã‚Œã‚‹ã‹å¦ã‹
        //ã€€ãƒ»
        //
        //
        // ã€ ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«é–¢ã—ã¦ã€‚ãã®ä»–çŸ¥è­˜ ã€‘
        //  ãƒ»ã‚¯ãƒ©ã‚¹å®šç¾©ã‚’æ›¸ã„ãŸã ã‘ã§ã¯ã‚¯ãƒ©ã‚¹ã¯ä½¿ãˆãªã„ã€‚ä¾‹ã®$a = new hoge();ã®ã‚ˆã†ã«newã¨ã„ã†æ¼”ç®—å­ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹
        //  ãƒ»ã‚¯ãƒ©ã‚¹å®šç¾©å†…ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹é–¢æ•°ã‚’ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆhoge(){å‡¦ç†]ã¿ãŸã„ãªã“ã¨ï¼‰
        //  ãƒ»ã‚¯ãƒ©ã‚¹å†…ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹å¤‰æ•°ã®ã“ã¨ã‚’ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆ$hogehoge = aa ;ã®ã‚ˆã†ãªã“ã¨ï¼‰
        //
        //
        //ã€€-----------------------------------
        //  ã€ä¾‹ã€‘
        //
        // ã€€ class hoge{
        //    ã€€ãƒ»ãƒ¡ã‚½ãƒƒãƒ‰ã®å®£è¨€
        // ã€€ ã€€ãƒ»ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å®£è¨€
        //  ã€€}
        //
        // ã€€ $a = new hoge();
        //    var_dump($a)
        // ------------------------------------
        //
        //
        $data = ['articles' => $articles];
        //ä¸Šã®$articlesï¼ˆè¨˜äº‹ã®ä¸€è¦§ãƒ‡ãƒ¼ã‚¿ï¼‰ã‚’é€£æƒ³é…åˆ—ã«ã—ã¦$dataå¤‰æ•°ã®ä¸­ã«å…¥ã‚Œã¦ã„ã‚‹ã€‚ä»Šå¾Œã¯$data['articles']ã§è¨˜äº‹ã®ä¸€è¦§ã‚’å‘¼ã³å‡ºã›ã‚‹
        //ã‚­ãƒ¼ã¯æ·»å­—ï¼ˆ0ã¨ã‹1ã¨ã‹ï¼‰ã®ä»£ã‚ã‚Šã«ä½¿ã†åå‰ã€‚ä»Šå›žã¯articlesãŒã‚­ãƒ¼ã¨ãªã‚‹ã€‚
        return view('articles.index', $data);
        //view()ã¯ãƒ“ãƒ¥ãƒ¼ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã—ã¦HTMLã‚’ç”Ÿæˆã™ã‚‹ã€‚å¼•æ•°ã¯ãã‚Œãžã‚Œï¼ˆ'ä½¿ç”¨ã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ä»Šå›žã¯articlesãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã®index.blade.phpã‚’ä½¿ã†ã€‚'ã€€,ã€€'ãƒ“ãƒ¥ãƒ¼ã«æ¸¡ã™ãƒ‡ãƒ¼ã‚¿ã€ä»Šå›žã¯è¨˜äº‹ä¸€è¦§ã®ãƒ‡ãƒ¼ã‚¿'ï¼‰
        //ä½¿ç”¨ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¤ºã™ã¨ãã¯ï¼ˆãƒ•ã‚©ãƒ«ãƒ€å.ä½¿ç”¨ã™ã‚‹bladeãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.blade.phpã¯çœç•¥ï¼‰ï¼‰ã®å½¢å¼
    }

    /**
     * Show the form for creating a new resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function create()
    {
        $article = new Article();
        // ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã“ã“ã§ç”Ÿæˆï¼ˆnewãŒå…¥ã£ã¦ã„ã‚‹ã“ã¨ã«æ³¨ç›®ï¼‰ã€‚ï¼„articleãŒãƒ•ã‚©ãƒ¼ãƒ ã«æ›¸ã‹ã‚ŒãŸã‚‚ã®ã‚’å…¥ã‚Œã‚‹å®¹å™¨ã®å½¹å‰²ã‚’æŒã¤
        // newã«ã‚ˆã£ã¦Articleã‚¯ãƒ©ã‚¹ã¨ã„ã†è¨­è¨ˆå›³ã«åˆã‚ã›ã¦ï¼„articleã¨ã„ã†ãƒ¢ãƒŽã‚’ä½œã‚‹æ„Ÿã˜ã€‚
        $data = ['article' => $article];
        // viewã«æ¸¡ã—ã¦ã‚ã’ã‚‹ãŸã‚ã«ã€$dataã«å…¥ã‚Œã¦ã‚ã’ã‚‹
        // ã“ã“ã®ã€'article' ï¼ï¼ž $articleã€‘ã¯é€£æƒ³é…åˆ—ã§ã€keyã®â€™articleâ€™ã§ï¼„articleã®ä¸­èº«ã‚’å‘¼ã³å‡ºã›ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹
        return view('articles.create', $data);
        // articlesãƒ•ã‚©ãƒ«ãƒ€ã®createãƒ•ã‚¡ã‚¤ãƒ«ã«$dataã‚’æ¸¡ã—ã¦ã‚ã’ã‚‹
    }

    /**
     * Store a newly created resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return \Illuminate\Http\Response
     */
    public function store(Request $request)
    {
        $this->validate($request, [
            'title' => 'required|max:255',
            // titleã®ä¸­ã¯ã“ã‚“ãªæ¡ä»¶ã ã‚ˆðŸ‘‰requrired = å¿…é ˆé …ç›®ã ã‚ˆã€€ã€€ï½œ = ã‹ã¤ã€€ã€€max:255 = æ–‡å­—æ•°ã®maxã¯255æ–‡å­—ã¾ã§ã ã‚ˆ
            'body' => 'required'
            // bodyã¯å¿…é ˆé …ç›®ã ã‚ˆ
        ]);
        $article = new Article();
        //ã“ã“ã§$articleã¨ã„ã†ãƒ¢ãƒŽã®ã‚¬ãƒ¯ï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼‰ã‚’Articleï¼ˆï¼‰ã¨ã„ã†è¨­è¨ˆå›³ï¼ˆã‚¯ãƒ©ã‚¹ï¼‰ã‚’ã‚‚ã¨ã«ç”Ÿæˆã—ã¦ã„ã‚‹
        $article->title = $request->title;
        // ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹->ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å = å€¤
        // $articleã¨ã„ã†ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£$titleã«$requestï¼ˆãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ï¼‰ã®name="title"ã‚’å½“ã¦ã¯ã‚ã‚‹
        $article->body = $request->body;
        // ä¸Šã§titleã«å¯¾ã—ã¦ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã®bodyï¼ˆæœ¬æ–‡ï¼‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³
        $article->save();
        // formã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹
        // modelã‚¯ãƒ©ã‚¹ã«ã™ã§ã«CRUDã®ãŸã‚ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã‚ã–ã‚ã–SQLã‚’æ›¸ãå¿…è¦ãŒãªã„ã€‚



        // ã€å¤§äº‹ã€‘ä¸Šè¨˜ã§ã‚¬ãƒ¯ï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼‰ã‚’ç”Ÿæˆã•ã‚Œã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹->ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å = å€¤ã§ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ±ºã‚ã‚‰ã‚ŒãŸãƒ¢ãƒŽã®ç·ç§°ï¼ˆï¼„articleï¼‰ã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã„ã†



        return redirect(route('articles.index'));
        // ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã§ã¯return view ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™ã‹return redirectã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œã‚Šç›´ã™
        // ä»Šå›žã¯redirectã§ãƒ‡ãƒ¼ã‚¿ã®ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤ç­‰ã‚’ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
        //view()ã¯ãƒ–ãƒ¬ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã¨æ¸¡ã™å€¤ã‚„å¤‰æ•°ãªã©ã‚’æŒ‡å®šã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’è¡¨ç¤ºã•ã›ã‚‹
        //redirect()ã¯URLã‚‚ã—ãã¯ã‚ã‚‰ã‹ã˜ã‚ä½œã‚‰ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆåã‚’æŒ‡å®šã—ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®å‡¦ç†ï¼ˆCRUDã®CUDéƒ¨åˆ†ï¼‰ ï¼‹ ãƒ–ãƒ¬ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’è¡¨ç¤ºã•ã›ã‚‹ï¼ˆCRUDã®Réƒ¨åˆ†ï¼‰
        // å…¨ã¦ã®å‡¦ç†ã‚’çµ‚ãˆãŸå¾Œã«è¡¨ç¤ºã•ã‚Œã‚‹URLã¯/Articlesã«ãªã‚‹
    }

    /**
     * Display the specified resource.
     *
     * @param  \App\Models\Article  $article
     * @return \Illuminate\Http\Response
     */
    public function show(Article $article)
    // Articleã‚¯ãƒ©ã‚¹ï¼ˆArticleã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼‰ã‚’çµŒç”±ã—ã¦ï¼„articleã‚’å—ã‘å–ã£ã¦ã„ã‚‹
    // 
    {
        $data = ['article' => $article];
        return view('articles.show',$data);
    }

    /**
     * Show the form for editing the specified resource.
     *
     * @param  \App\Models\Article  $article
     * @return \Illuminate\Http\Response
     */
    public function edit(Article $article)
    {
        //
    }

    /**
     * Update the specified resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \App\Models\Article  $article
     * @return \Illuminate\Http\Response
     */
    public function update(Request $request, Article $article)
    {
        //
    }

    /**
     * Remove the specified resource from storage.
     *
     * @param  \App\Models\Article  $article
     * @return \Illuminate\Http\Response
     */
    public function destroy(Article $article)
    {
        //
    }
}
